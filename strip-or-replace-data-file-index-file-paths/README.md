# CSV Path Processor

A utility for modifying file paths in CSV index files generated by [crossref-data-file-indexer](https://github.com/adambuttrick/crossref-data-file-indexer). Processes CSV files by either stripping file paths down to just the filename or replacing them with new base paths.


## Installation

```bash
cargo build --release
```

## Usage

```bash
strip-or-replace-data-file-index-file-paths -i <INPUT_DIR> -o <OUTPUT_DIR> [OPTIONS]
```

### Required Arguments

- `-i, --input-dir <DIR>`: Directory containing input CSV files
- `-o, --output-dir <DIR>`: Directory where processed CSV files will be saved

### Optional Arguments

- `-n, --new-path <PATH>`: New base path to prepend to filenames (required unless --strip-only is used)
- `-s, --strip-only`: Only strip paths to filenames without adding a new path prefix
- `-h, --help`: Show help information
- `-V, --version`: Show version information

## Examples

### Strip Paths to Filenames Only

```bash
strip-or-replace-data-file-index-file-paths -i ./index_files -o ./processed_files -s
```

Before: `/data/crossref/2023/file1.jsonl.gz`  
After: `file1.jsonl.gz`

### Replace Path Prefix

```bash
strip-or-replace-data-file-index-file-paths -i ./index_files -o ./processed_files -n /new/path/location
```

Before: `/data/crossref/2023/file1.jsonl.gz`  
After: `/new/path/location/file1.jsonl.gz`